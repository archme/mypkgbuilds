# Contributor: archme
pkgname=ldap2zone
pkgver=846
pkgrel=1
pkgdesc="TODO desc"
arch=('i686' 'x86_64')
license=('LGPL')
url="https://oss.gonicus.de/"
depends=('bind')
makedepends=('subversion')
options=(!libtool)
source=()
md5sums=()

_svntrunk=https://oss.gonicus.de/repositories/goto/trunk/${pkgname}
_svnmod=${pkgname}

build() {
  svn co $_svntrunk $_svnmod
  msg "SVN checkout done or server timeout"
  msg "Starting make..."

  #mkdir -p "${pkgdir}/usr/share/gosa"
  #mkdir -p "${pkgdir}/etc/gosa"
  #mkdir -p "${pkgdir}/var/spool/gosa"
  #chown -R http.http "${pkgdir}/var/spool/gosa"

  #cp -ar ${srcdir}/${pkgname}-${pkgver}/* ${pkgdir}/usr/share/gosa
  cd "${srcdir}/${pkgname}"
  #./configure --prefix=/usr || return 1
  make || return 1
  install -D -m755 ./ldap2bind ${pkgdir}/usr/sbin/ldap2bind
  install -D -m755 ./ldap2zone ${pkgdir}/usr/sbin/ldap2zone
  install -D -m644 ./debian/default ${pkgdir}/etc/default/ldap2zone
  #make DESTDIR=${pkgdir} install || return 1
}
